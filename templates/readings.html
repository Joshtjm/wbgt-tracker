{% extends "layout.html" %}
{% block content %}
<div class="p-6">
  <h2 class="text-xl font-semibold mb-4">ðŸ“Š Live WBGT Status</h2>
  <div class="overflow-x-auto">
    <table class="min-w-full table-auto border border-gray-300 text-sm">
      <thead class="bg-gray-100">
        <tr>
          <th class="border px-4 py-2 text-left">Username</th>
          <th class="border px-4 py-2 text-left">Group</th>
          <th class="border px-4 py-2 text-left">Role</th>
          <th class="border px-4 py-2 text-left">Status</th>
          <th class="border px-4 py-2 text-left">Zone</th>
          <th class="border px-4 py-2 text-left">Start Time</th>
          <th class="border px-4 py-2 text-left">End Time</th>
          <th class="border px-4 py-2 text-left">Cutoff?</th>
        </tr>
      </thead>
      <tbody>
        {% for username, info in users.items() %}
        <tr class="hover:bg-gray-50">
          <td class="border px-4 py-2">{{ username }}</td>
          <td class="border px-4 py-2">{{ info.group }}</td>
          <td class="border px-4 py-2">{{ info.role }}</td>
          <td class="border px-4 py-2 capitalize">{{ info.status }}</td>
          <td class="border px-4 py-2 capitalize">{{ info.zone or "â€”" }}</td>
          <td class="border px-4 py-2">{{ info.start_time }}</td>
          <td class="border px-4 py-2">{{ info.end_time }}</td>
          <td class="border px-4 py-2">{{ "âœ…" if info.cutoff_active else "â€”" }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
